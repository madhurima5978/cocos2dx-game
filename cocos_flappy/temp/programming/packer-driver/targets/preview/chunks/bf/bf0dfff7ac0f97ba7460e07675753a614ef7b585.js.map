{"version":3,"sources":["file:///C:/Users/DELL/NewProject_1/assets/Scripts/Ground.ts"],"names":["_decorator","Canvas","Component","director","Node","UITransform","Vec3","GameCtrl","ccclass","property","Ground","type","tooltip","groundWidth1","groundWidth2","groundWidth3","tempStartLocation1","tempStartLocation2","tempStartLocation3","gameCtrlSpeed","gameSpeed","onLoad","startUp","ground1","getComponent","width","ground2","ground3","x","setPosition","update","deltaTime","speed","position","scene","getScene","canvas","getComponentInChildren"],"mappings":"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","sourcesContent":["import { _decorator, Canvas, Component, director, Node, UITransform, Vec3 } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\nimport { GameCtrl } from './GameCtrl';\r\n\r\n@ccclass('Ground')\r\nexport class Ground extends Component {\r\n    \r\n    @property({\r\n        type: Node,\r\n        tooltip: 'Ground 1 is here'\r\n        \r\n    })\r\n    public ground1: Node;\r\n\r\n    @property({\r\n        type: Node,\r\n        tooltip: 'Ground 2 is here'\r\n        \r\n    })\r\n    public ground2: Node;\r\n\r\n    @property({\r\n        type: Node,\r\n        tooltip: 'Ground 3 is here'\r\n        \r\n    })\r\n    public ground3: Node;\r\n\r\n    //create ground with variables\r\n    public groundWidth1:number;\r\n    public groundWidth2: number;\r\n    public groundWidth3: number;\r\n\r\n    public tempStartLocation1 = new Vec3;\r\n    public tempStartLocation2 = new Vec3;\r\n    public tempStartLocation3 = new Vec3;\r\n\r\n    public gameCtrlSpeed = new GameCtrl;\r\n    public gameSpeed: number;\r\n    \r\n    onLoad(){\r\n        this.startUp();\r\n    }\r\n\r\n    startUp(){\r\n        this.groundWidth1 = this.ground1.getComponent(UITransform).width;\r\n        this.groundWidth2 = this.ground2.getComponent(UITransform).width;\r\n        this.groundWidth3 = this.ground3.getComponent(UITransform).width;\r\n\r\n        this.tempStartLocation1.x = 0;\r\n        this.tempStartLocation2.x = this.groundWidth1;\r\n        this.tempStartLocation3.x = this.groundWidth1+ this.groundWidth2;\r\n\r\n        this.ground1.setPosition(this.tempStartLocation1);\r\n        this.ground2.setPosition(this.tempStartLocation2);\r\n        this.ground3.setPosition(this.tempStartLocation3);\r\n    }\r\n\r\n\r\n\r\n    update(deltaTime: number) {\r\n        \r\n        this.gameSpeed = this.gameCtrlSpeed.speed;\r\n\r\n        this.tempStartLocation1 = this.ground1.position;\r\n        this.tempStartLocation2 = this.ground2.position;\r\n        this.tempStartLocation3 = this.ground3.position;\r\n\r\n        //get the speed and subtract from x\r\n\r\n        this.tempStartLocation1.x -= this.gameSpeed * deltaTime;\r\n        this.tempStartLocation2.x -= this.gameSpeed * deltaTime;\r\n        this.tempStartLocation3.x -= this.gameSpeed * deltaTime;\r\n\r\n        const scene = director.getScene();\r\n        const canvas = scene.getComponentInChildren(Canvas);\r\n\r\n        if(this.tempStartLocation1.x <= (0 - this.groundWidth1)){\r\n            this.tempStartLocation1.x = canvas.getComponent(UITransform).width;\r\n        }\r\n\r\n        if(this.tempStartLocation2.x <= (0 - this.groundWidth2)){\r\n            this.tempStartLocation2.x = canvas.getComponent(UITransform).width;\r\n        }\r\n\r\n        if(this.tempStartLocation3.x <= (0 - this.groundWidth3)){\r\n            this.tempStartLocation3.x = canvas.getComponent(UITransform).width;\r\n        }\r\n\r\n\r\n\r\n        this.ground1.setPosition(this.tempStartLocation1);\r\n        this.ground2.setPosition(this.tempStartLocation2);\r\n        this.ground3.setPosition(this.tempStartLocation3);\r\n\r\n    }\r\n}\r\n\r\n\r\n"]}