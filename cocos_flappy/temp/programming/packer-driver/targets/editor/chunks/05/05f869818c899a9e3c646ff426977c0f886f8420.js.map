{"version":3,"sources":["file:///C:/Users/DELL/NewProject_1/assets/Scripts/PipePool.ts"],"names":["_decorator","Component","Node","Prefab","NodePool","instantiate","ccclass","property","PipePool","type","pool","createPipe","initPool","initCount","i","prefabPipes","pipePoolHome","addChild","put","addPool","size","get","reset","removeAllChildren","clear"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,Q,OAAAA,Q;AAAUC,MAAAA,W,OAAAA,W;;;;;;;;;OAClD;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;0BAKjBQ,Q,WADZF,OAAO,CAAC,UAAD,C,UAEHC,QAAQ,CAAC;AACNE,QAAAA,IAAI,EAACN;AADC,OAAD,C,UAKRI,QAAQ,CAAC;AACNE,QAAAA,IAAI,EAAEP;AADA,OAAD,C,2BAPb,MACaM,QADb,SAC8BP,SAD9B,CACwC;AAAA;AAAA;;AAAA;;AAAA;;AAAA,eAW7BS,IAX6B,GAWtB,IAAIN,QAAJ,EAXsB;AAAA,eAY7BO,UAZ6B;AAAA;;AAapCC,QAAAA,QAAQ,GAAE;AACN,cAAIC,SAAS,GAAG,CAAhB;;AAEA,eAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAACD,SAAjB,EAA4BC,CAAC,EAA7B,EAAgC;AAC3B,iBAAKH,UAAL,GAAkBN,WAAW,CAAC,KAAKU,WAAN,CAA7B;;AAED,gBAAGD,CAAC,IAAE,CAAN,EAAQ;AACJ,mBAAKE,YAAL,CAAkBC,QAAlB,CAA2B,KAAKN,UAAhC;AACH,aAFD,MAGI;AACA,mBAAKD,IAAL,CAAUQ,GAAV,CAAc,KAAKP,UAAnB;AACH;AAEJ;AACJ;;AAEDQ,QAAAA,OAAO,GAAE;AACL,cAAG,KAAKT,IAAL,CAAUU,IAAV,KAAmB,CAAtB,EAAwB;AACpB,iBAAKT,UAAL,GAAkB,KAAKD,IAAL,CAAUW,GAAV,EAAlB;AACH,WAFD,MAEK;AACD,iBAAKV,UAAL,GAAkBN,WAAW,CAAC,KAAKU,WAAN,CAA7B;AACH;;AAED,eAAKC,YAAL,CAAkBC,QAAlB,CAA2B,KAAKN,UAAhC;AAEH;;AACDW,QAAAA,KAAK,GAAE;AACH,eAAKN,YAAL,CAAkBO,iBAAlB;AACA,eAAKb,IAAL,CAAUc,KAAV;AACA,eAAKZ,QAAL;AACH;;AA3CmC,O;;;;;iBAIf,I","sourcesContent":["import { _decorator, Component, Node, Prefab, NodePool, instantiate } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\nimport {Pipes} from './Pipes'\r\n\r\n@ccclass('PipePool')\r\nexport class PipePool extends Component {\r\n    @property({\r\n        type:Prefab\r\n    })\r\n    public prefabPipes = null;\r\n\r\n    @property({\r\n        type: Node\r\n    })\r\n    public pipePoolHome;\r\n\r\n    public pool = new NodePool;\r\n    public createPipe;\r\n    initPool(){\r\n        let initCount = 3;\r\n\r\n        for(let i = 0; i<initCount; i++){\r\n             this.createPipe = instantiate(this.prefabPipes);\r\n\r\n            if(i==0){\r\n                this.pipePoolHome.addChild(this.createPipe);\r\n            }\r\n            else{\r\n                this.pool.put(this.createPipe)\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    addPool(){\r\n        if(this.pool.size() > 0){\r\n            this.createPipe = this.pool.get();\r\n        }else{\r\n            this.createPipe = instantiate(this.prefabPipes);\r\n        }\r\n\r\n        this.pipePoolHome.addChild(this.createPipe);\r\n\r\n    }\r\n    reset(){\r\n        this.pipePoolHome.removeAllChildren();\r\n        this.pool.clear();\r\n        this.initPool();\r\n    }\r\n}\r\n\r\n\r\n"]}